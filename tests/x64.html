<html style="background: rgb(243, 201, 229)"><body style="padding: 25px; margin: 25px; background: #333; font-family: monospace"><span title="comment" style="color: #fff">x64/Linux/ELF</span> <span title="comment" style="color: #fff">---------------------------------------------------------------</span> <br><span title="macro execution" style="color: #FFFF00">02</span> <span title="macro execution" style="color: #FFFF00">sections</span> <span title="macro execution" style="color: #FFFF00">little</span> <span title="macro execution" style="color: #FFFF00">endian</span> <span title="macro definition" style="color: #00FFFF">binary</span> <span title="macro execution" style="color: #FFFF00">00</span> <span title="macro definition" style="color: #00FFFF">code</span> <span title="macro execution" style="color: #FFFF00">01</span> <span title="macro definition" style="color: #00FFFF">data</span> <span title="macro execution" style="color: #FFFF00">02</span> <span title="macro execution" style="color: #FFFF00">;</span> <br><br><span title="comment" style="color: #fff">Define</span> <span title="comment" style="color: #fff">virtual</span> <span title="comment" style="color: #fff">addresses</span> <span title="comment" style="color: #fff">and</span> <span title="comment" style="color: #fff">alignment</span> <span title="comment" style="color: #fff">for</span> <span title="comment" style="color: #fff">segments.</span> <span title="comment" style="color: #fff">OS</span> <span title="comment" style="color: #fff">sorts</span> <span title="comment" style="color: #fff">return</span> <span title="comment" style="color: #fff">stack</span> <br><span title="macro definition" style="color: #00FFFF">vma-load</span> <span title="macro execution" style="color: #FFFF00">10000</span> <span title="macro definition" style="color: #00FFFF">data-start</span> <span title="macro execution" style="color: #FFFF00">11000</span> <span title="macro definition" style="color: #00FFFF">stack-start</span> <span title="macro execution" style="color: #FFFF00">12000</span> <span title="macro definition" style="color: #00FFFF">section-align</span> <span title="macro execution" style="color: #FFFF00">1000</span> <br><br><span title="comment" style="color: #fff">Misc</span> <span title="comment" style="color: #fff">useful</span> <span title="comment" style="color: #fff">definitions</span> <span title="comment" style="color: #fff">and</span> <span title="comment" style="color: #fff">constants</span> <span title="comment" style="color: #fff">for</span> <span title="comment" style="color: #fff">ELF</span> <span title="comment" style="color: #fff">64-bit</span> <br><span title="macro definition" style="color: #00FFFF">b64</span> <span title="macro execution" style="color: #FFFF00">binary</span> <span title="macro execution" style="color: #FFFF00">w64</span> <span title="macro execution" style="color: #FFFF00">;</span> <br><span title="macro definition" style="color: #00FFFF">size</span> <span title="comment" style="color: #fff">(section#</span> <span title="comment" style="color: #fff">--</span> <span title="comment" style="color: #fff">size)</span> <span title="macro execution" style="color: #FFFF00">dup</span> <span title="macro execution" style="color: #FFFF00">ptr</span> <span title="macro execution" style="color: #FFFF00">@</span> <span title="macro execution" style="color: #FFFF00">swap</span> <span title="macro execution" style="color: #FFFF00">base</span> <span title="macro execution" style="color: #FFFF00">@</span> <span title="macro execution" style="color: #FFFF00">-</span> <br><span title="macro definition" style="color: #00FFFF">elf-head-size</span> <span title="macro execution" style="color: #FFFF00">40</span> <span title="macro definition" style="color: #00FFFF">phead-size</span> <span title="macro execution" style="color: #FFFF00">38</span> <br><br><span title="comment" style="color: #fff">Caluclate</span> <span title="comment" style="color: #fff">offsets</span> <span title="comment" style="color: #fff">for</span> <span title="comment" style="color: #fff">code</span> <span title="comment" style="color: #fff">section</span> <br><span title="macro definition" style="color: #00FFFF">code-file-offset</span> <span title="macro execution" style="color: #FFFF00">phead-size</span> <span title="macro execution" style="color: #FFFF00">02</span> <span title="macro execution" style="color: #FFFF00">*</span> <span title="macro execution" style="color: #FFFF00">elf-head-size</span> <span title="macro execution" style="color: #FFFF00">+</span> <br><span title="macro definition" style="color: #00FFFF">code-load-start</span> <span title="macro execution" style="color: #FFFF00">vma-load</span> <span title="macro execution" style="color: #FFFF00">code-file-offset</span> <span title="macro execution" style="color: #FFFF00">+</span> <span title="macro execution" style="color: #FFFF00">;</span> <br><br><span title="comment" style="color: #fff">Padding</span> <span title="comment" style="color: #fff">to</span> <span title="comment" style="color: #fff">align</span> <span title="comment" style="color: #fff">data</span> <span title="comment" style="color: #fff">section</span> <span title="comment" style="color: #fff">in</span> <span title="comment" style="color: #fff">file</span> <span title="comment" style="color: #fff">to</span> <span title="comment" style="color: #fff">map</span> <span title="comment" style="color: #fff">to</span> <span title="comment" style="color: #fff">start</span> <span title="comment" style="color: #fff">of</span> <span title="comment" style="color: #fff">new</span> <span title="comment" style="color: #fff">page</span> <br><span title="macro definition" style="color: #00FFFF">padding-size</span> <span title="macro execution" style="color: #FFFF00">1000</span> <span title="macro execution" style="color: #FFFF00">b0</span> <span title="macro execution" style="color: #FFFF00">code</span> <span title="macro execution" style="color: #FFFF00">size</span> <span title="macro execution" style="color: #FFFF00">+</span> <span title="macro execution" style="color: #FFFF00">fff</span> <span title="macro execution" style="color: #FFFF00">and</span> <span title="macro execution" style="color: #FFFF00">-</span> <br><span title="macro definition" style="color: #00FFFF">data-file-offset</span> <span title="macro execution" style="color: #FFFF00">code-file-offset</span> <span title="macro execution" style="color: #FFFF00">code</span> <span title="macro execution" style="color: #FFFF00">size</span> <span title="macro execution" style="color: #FFFF00">+</span> <span title="macro execution" style="color: #FFFF00">padding-size</span> <span title="macro execution" style="color: #FFFF00">+</span> <span title="macro execution" style="color: #FFFF00">;</span> <br><br><span title="comment" style="color: #fff">Set</span> <span title="comment" style="color: #fff">the</span> <span title="comment" style="color: #fff">compiler</span> <span title="comment" style="color: #fff">origins</span> <span title="comment" style="color: #fff">for</span> <span title="comment" style="color: #fff">each</span> <span title="comment" style="color: #fff">segment</span> <br><span title="macro execution" style="color: #FFFF00">code-load-start</span> <span title="macro execution" style="color: #FFFF00">code</span> <span title="macro execution" style="color: #FFFF00">base</span> <span title="macro execution" style="color: #FFFF00">!</span> <span title="macro execution" style="color: #FFFF00">code-load-start</span> <span title="macro execution" style="color: #FFFF00">code</span> <span title="macro execution" style="color: #FFFF00">ptr</span> <span title="macro execution" style="color: #FFFF00">!</span> <br><span title="macro execution" style="color: #FFFF00">data-start</span> <span title="macro execution" style="color: #FFFF00">data</span> <span title="macro execution" style="color: #FFFF00">base</span> <span title="macro execution" style="color: #FFFF00">!</span> <span title="macro execution" style="color: #FFFF00">data-start</span> <span title="macro execution" style="color: #FFFF00">data</span> <span title="macro execution" style="color: #FFFF00">ptr</span> <span title="macro execution" style="color: #FFFF00">!</span> <br><br><span title="macro definition" style="color: #00FFFF">compile</span> <br><br><span title="macro execution" style="color: #FFFF00">00</span> <span title="macro execution" style="color: #FFFF00">magic!</span> <br><span title="comment" style="color: #fff">ELF</span> <span title="comment" style="color: #fff">headers</span> <br><span title="machine code" style="color: #aaaaaa">7f</span> <span title="machine code" style="color: #aaaaaa">45</span> <span title="machine code" style="color: #aaaaaa">4c</span> <span title="machine code" style="color: #aaaaaa">46</span> <span title="comment" style="color: #fff">magic</span> <br><span title="machine code" style="color: #aaaaaa">02</span> <span title="machine code" style="color: #aaaaaa">01</span> <span title="machine code" style="color: #aaaaaa">01</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="comment" style="color: #fff">64-bit,</span> <span title="comment" style="color: #fff">little</span> <span title="comment" style="color: #fff">endian,</span> <span title="comment" style="color: #fff">version,</span> <span title="comment" style="color: #fff">system</span> <span title="comment" style="color: #fff">v</span> <br><span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="comment" style="color: #fff">abi</span> <span title="comment" style="color: #fff">version,</span> <span title="comment" style="color: #fff">padding</span> <br><span title="machine code" style="color: #aaaaaa">02</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">3e</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="comment" style="color: #fff">shared</span> <span title="comment" style="color: #fff">object,</span> <span title="comment" style="color: #fff">amd</span> <span title="comment" style="color: #fff">x86-64</span> <br><span title="machine code" style="color: #aaaaaa">01</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="comment" style="color: #fff">version</span> <br><span title="macro execution" style="color: #FFFF00">init</span> <span title="macro execution" style="color: #FFFF00">b64</span> <span title="comment" style="color: #fff">entry</span> <span title="comment" style="color: #fff">point</span> <br><span title="machine code" style="color: #aaaaaa">40</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="comment" style="color: #fff">program</span> <span title="comment" style="color: #fff">header</span> <span title="comment" style="color: #fff">start</span> <br><span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="comment" style="color: #fff">section</span> <span title="comment" style="color: #fff">header</span> <span title="comment" style="color: #fff">start</span> <span title="comment" style="color: #fff">(not</span> <span title="comment" style="color: #fff">included)</span> <br><span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="comment" style="color: #fff">architecture</span> <span title="comment" style="color: #fff">flags</span> <span title="comment" style="color: #fff">(none?)</span> <br><span title="machine code" style="color: #aaaaaa">40</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="comment" style="color: #fff">size</span> <span title="comment" style="color: #fff">this</span> <span title="comment" style="color: #fff">header</span> <br><span title="machine code" style="color: #aaaaaa">38</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="comment" style="color: #fff">size</span> <span title="comment" style="color: #fff">of</span> <span title="comment" style="color: #fff">program</span> <span title="comment" style="color: #fff">header</span> <span title="comment" style="color: #fff">entry</span> <br><span title="machine code" style="color: #aaaaaa">02</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="comment" style="color: #fff">number</span> <span title="comment" style="color: #fff">of</span> <span title="comment" style="color: #fff">entries</span> <span title="comment" style="color: #fff">in</span> <span title="comment" style="color: #fff">program</span> <span title="comment" style="color: #fff">header</span> <span title="comment" style="color: #fff">table</span> <br><span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="comment" style="color: #fff">size</span> <span title="comment" style="color: #fff">of</span> <span title="comment" style="color: #fff">a</span> <span title="comment" style="color: #fff">section</span> <span title="comment" style="color: #fff">header</span> <span title="comment" style="color: #fff">table</span> <span title="comment" style="color: #fff">entry</span> <br><span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="comment" style="color: #fff">number</span> <span title="comment" style="color: #fff">of</span> <span title="comment" style="color: #fff">section</span> <span title="comment" style="color: #fff">header</span> <span title="comment" style="color: #fff">entries</span> <br><span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="comment" style="color: #fff">index</span> <span title="comment" style="color: #fff">in</span> <span title="comment" style="color: #fff">section</span> <span title="comment" style="color: #fff">header</span> <span title="comment" style="color: #fff">with</span> <span title="comment" style="color: #fff">section</span> <span title="comment" style="color: #fff">names</span> <br><br><span title="comment" style="color: #fff">Program</span> <span title="comment" style="color: #fff">header</span> <span title="comment" style="color: #fff">--</span> <span title="comment" style="color: #fff">code</span> <br><span title="machine code" style="color: #aaaaaa">01</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="comment" style="color: #fff">loadable</span> <span title="comment" style="color: #fff">segment</span> <br><span title="machine code" style="color: #aaaaaa">05</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="comment" style="color: #fff">not</span> <span title="comment" style="color: #fff">writeable</span> <span title="comment" style="color: #fff">(bit0=X,</span> <span title="comment" style="color: #fff">bit1=W,</span> <span title="comment" style="color: #fff">bit2=R)</span> <br><span title="macro execution" style="color: #FFFF00">code-file-offset</span> <span title="macro execution" style="color: #FFFF00">b64</span> <span title="comment" style="color: #fff">segment</span> <span title="comment" style="color: #fff">offset</span> <span title="comment" style="color: #fff">in</span> <span title="comment" style="color: #fff">file</span> <span title="comment" style="color: #fff">image</span> <br><span title="macro execution" style="color: #FFFF00">vma-load</span> <span title="macro execution" style="color: #FFFF00">b0</span> <span title="macro execution" style="color: #FFFF00">+</span> <span title="macro execution" style="color: #FFFF00">b64</span> <span title="comment" style="color: #fff">VA</span> <span title="comment" style="color: #fff">of</span> <span title="comment" style="color: #fff">segment</span> <span title="comment" style="color: #fff">in</span> <span title="comment" style="color: #fff">memory</span> <br><span title="macro execution" style="color: #FFFF00">vma-load</span> <span title="macro execution" style="color: #FFFF00">b0</span> <span title="macro execution" style="color: #FFFF00">+</span> <span title="macro execution" style="color: #FFFF00">b64</span> <span title="comment" style="color: #fff">physical</span> <span title="comment" style="color: #fff">address</span> <br><span title="macro execution" style="color: #FFFF00">code</span> <span title="macro execution" style="color: #FFFF00">size</span> <span title="macro execution" style="color: #FFFF00">b64</span> <span title="comment" style="color: #fff">size</span> <span title="comment" style="color: #fff">of</span> <span title="comment" style="color: #fff">segment</span> <span title="comment" style="color: #fff">bytes</span> <span title="comment" style="color: #fff">in</span> <span title="comment" style="color: #fff">file</span> <span title="comment" style="color: #fff">image</span> <br><span title="macro execution" style="color: #FFFF00">code</span> <span title="macro execution" style="color: #FFFF00">size</span> <span title="macro execution" style="color: #FFFF00">b64</span> <span title="comment" style="color: #fff">size</span> <span title="comment" style="color: #fff">of</span> <span title="comment" style="color: #fff">segment</span> <span title="comment" style="color: #fff">bytes</span> <span title="comment" style="color: #fff">in</span> <span title="comment" style="color: #fff">memory</span> <br><span title="macro execution" style="color: #FFFF00">section-align</span> <span title="macro execution" style="color: #FFFF00">b64</span> <span title="comment" style="color: #fff">alignment</span> <br><br><span title="comment" style="color: #fff">Program</span> <span title="comment" style="color: #fff">header</span> <span title="comment" style="color: #fff">--</span> <span title="comment" style="color: #fff">data</span> <br><span title="machine code" style="color: #aaaaaa">01</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="comment" style="color: #fff">loadable</span> <span title="comment" style="color: #fff">segment</span> <br><span title="machine code" style="color: #aaaaaa">06</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="comment" style="color: #fff">flags</span> <span title="comment" style="color: #fff">(bit0=X,</span> <span title="comment" style="color: #fff">bit1=W,</span> <span title="comment" style="color: #fff">bit2=R)</span> <br><span title="macro execution" style="color: #FFFF00">data-file-offset</span> <span title="macro execution" style="color: #FFFF00">b64</span> <span title="comment" style="color: #fff">segment</span> <span title="comment" style="color: #fff">offset</span> <span title="comment" style="color: #fff">in</span> <span title="comment" style="color: #fff">file</span> <span title="comment" style="color: #fff">image</span> <br><span title="macro execution" style="color: #FFFF00">data-start</span> <span title="macro execution" style="color: #FFFF00">b64</span> <span title="comment" style="color: #fff">VA</span> <span title="comment" style="color: #fff">of</span> <span title="comment" style="color: #fff">segment</span> <span title="comment" style="color: #fff">in</span> <span title="comment" style="color: #fff">memory</span> <br><span title="macro execution" style="color: #FFFF00">data-start</span> <span title="macro execution" style="color: #FFFF00">b64</span> <span title="comment" style="color: #fff">physical</span> <span title="comment" style="color: #fff">address</span> <br><span title="macro execution" style="color: #FFFF00">data</span> <span title="macro execution" style="color: #FFFF00">size</span> <span title="macro execution" style="color: #FFFF00">b64</span> <span title="comment" style="color: #fff">size</span> <span title="comment" style="color: #fff">of</span> <span title="comment" style="color: #fff">segment</span> <span title="comment" style="color: #fff">bytes</span> <span title="comment" style="color: #fff">in</span> <span title="comment" style="color: #fff">file</span> <span title="comment" style="color: #fff">image</span> <br><span title="macro execution" style="color: #FFFF00">stack-start</span> <span title="macro execution" style="color: #FFFF00">data-start</span> <span title="macro execution" style="color: #FFFF00">-</span> <span title="macro execution" style="color: #FFFF00">b64</span> <span title="comment" style="color: #fff">size</span> <span title="comment" style="color: #fff">of</span> <span title="comment" style="color: #fff">segment</span> <span title="comment" style="color: #fff">bytes</span> <span title="comment" style="color: #fff">in</span> <span title="comment" style="color: #fff">memory</span> <br><span title="macro execution" style="color: #FFFF00">section-align</span> <span title="macro execution" style="color: #FFFF00">b64</span> <span title="comment" style="color: #fff">alignment</span> <br><br><span title="comment" style="color: #fff">write-out</span> <span title="comment" style="color: #fff">the</span> <span title="comment" style="color: #fff">segments</span> <br><span title="macro execution" style="color: #FFFF00">code</span> <span title="macro execution" style="color: #FFFF00">write</span> <br><span title="macro execution" style="color: #FFFF00">padding-size</span> <span title="macro execution" style="color: #FFFF00">padding</span> <br><span title="macro execution" style="color: #FFFF00">data</span> <span title="macro execution" style="color: #FFFF00">write</span> <span title="macro execution" style="color: #FFFF00">;</span> <br><br><br><span title="comment" style="color: #fff">x64/Linux/Core</span> <span title="comment" style="color: #fff">--------------------------------------------------------------</span> <br><span title="macro execution" style="color: #FFFF00">code</span> <span title="macro execution" style="color: #FFFF00">magic!</span> <br><span title="macro definition" style="color: #00FFFF">ip@</span> <span title="macro execution" style="color: #FFFF00">code</span> <span title="macro execution" style="color: #FFFF00">ptr</span> <span title="macro execution" style="color: #FFFF00">@</span> <span title="macro definition" style="color: #00FFFF">i32</span> <span title="macro execution" style="color: #FFFF00">code</span> <span title="macro execution" style="color: #FFFF00">w32</span> <span title="macro definition" style="color: #00FFFF">i8</span> <span title="macro execution" style="color: #FFFF00">code</span> <span title="macro execution" style="color: #FFFF00">w8</span> <br><br><span title="macro definition" style="color: #00FFFF">swap</span> <span title="machine code" style="color: #aaaaaa">48</span> <span title="machine code" style="color: #aaaaaa">8b</span> <span title="machine code" style="color: #aaaaaa">1e</span> <span title="machine code" style="color: #aaaaaa">48</span> <span title="machine code" style="color: #aaaaaa">89</span> <span title="machine code" style="color: #aaaaaa">06</span> <span title="machine code" style="color: #aaaaaa">48</span> <span title="machine code" style="color: #aaaaaa">93</span> <span title="macro execution" style="color: #FFFF00">;</span> <br><span title="macro definition" style="color: #00FFFF">dup</span> <span title="machine code" style="color: #aaaaaa">4c</span> <span title="machine code" style="color: #aaaaaa">29</span> <span title="machine code" style="color: #aaaaaa">fe</span> <span title="machine code" style="color: #aaaaaa">48</span> <span title="machine code" style="color: #aaaaaa">89</span> <span title="machine code" style="color: #aaaaaa">06</span> <span title="macro definition" style="color: #00FFFF">drop</span> <span title="machine code" style="color: #aaaaaa">48</span> <span title="machine code" style="color: #aaaaaa">ad</span> <span title="macro definition" style="color: #00FFFF">nip</span> <span title="machine code" style="color: #aaaaaa">4c</span> <span title="machine code" style="color: #aaaaaa">01</span> <span title="machine code" style="color: #aaaaaa">fe</span> <br><span title="macro definition" style="color: #00FFFF">lit</span> <span title="compiled call, word, literal" style="color: #00FF7F">dup</span> <span title="machine code" style="color: #aaaaaa">b8</span> <span title="macro execution" style="color: #FFFF00">code</span> <span title="macro execution" style="color: #FFFF00">w32</span> <br><span title="macro definition" style="color: #00FFFF">;</span> <span title="machine code" style="color: #aaaaaa">c3</span> <br><span title="macro definition" style="color: #00FFFF">jmp</span> <span title="macro execution" style="color: #FFFF00">code</span> <span title="macro execution" style="color: #FFFF00">ptr</span> <span title="macro execution" style="color: #FFFF00">@</span> <span title="macro execution" style="color: #FFFF00">-</span> <span title="macro execution" style="color: #FFFF00">05</span> <span title="macro execution" style="color: #FFFF00">-</span> <span title="machine code" style="color: #aaaaaa">e9</span> <span title="macro execution" style="color: #FFFF00">i32</span> <span title="macro execution" style="color: #FFFF00">;</span> <br><span title="macro definition" style="color: #00FFFF">call</span> <span title="macro execution" style="color: #FFFF00">code</span> <span title="macro execution" style="color: #FFFF00">ptr</span> <span title="macro execution" style="color: #FFFF00">@</span> <span title="macro execution" style="color: #FFFF00">-</span> <span title="macro execution" style="color: #FFFF00">05</span> <span title="macro execution" style="color: #FFFF00">-</span> <span title="machine code" style="color: #aaaaaa">e8</span> <span title="macro execution" style="color: #FFFF00">i32</span> <span title="macro execution" style="color: #FFFF00">;</span> <br><span title="macro definition" style="color: #00FFFF">+</span> <span title="machine code" style="color: #aaaaaa">48</span> <span title="machine code" style="color: #aaaaaa">93</span> <span title="compiled call, word, literal" style="color: #00FF7F">drop</span> <span title="machine code" style="color: #aaaaaa">48</span> <span title="machine code" style="color: #aaaaaa">01</span> <span title="machine code" style="color: #aaaaaa">d8</span> <br><span title="macro definition" style="color: #00FFFF">-</span> <span title="machine code" style="color: #aaaaaa">48</span> <span title="machine code" style="color: #aaaaaa">93</span> <span title="compiled call, word, literal" style="color: #00FF7F">drop</span> <span title="machine code" style="color: #aaaaaa">48</span> <span title="machine code" style="color: #aaaaaa">29</span> <span title="machine code" style="color: #aaaaaa">d8</span> <br><span title="macro definition" style="color: #00FFFF">test</span> <span title="machine code" style="color: #aaaaaa">48</span> <span title="machine code" style="color: #aaaaaa">85</span> <span title="machine code" style="color: #aaaaaa">c0</span> <span title="compiled call, word, literal" style="color: #00FF7F">drop</span> <br><span title="macro definition" style="color: #00FFFF">if</span> <span title="compiled call, word, literal" style="color: #00FF7F">test</span> <span title="machine code" style="color: #aaaaaa">74</span> <span title="macro execution" style="color: #FFFF00">ip@</span> <span title="machine code" style="color: #aaaaaa">00</span> <br><span title="macro definition" style="color: #00FFFF">!if</span> <span title="compiled call, word, literal" style="color: #00FF7F">test</span> <span title="machine code" style="color: #aaaaaa">75</span> <span title="macro execution" style="color: #FFFF00">ip@</span> <span title="machine code" style="color: #aaaaaa">00</span> <br><span title="macro definition" style="color: #00FFFF">-if</span> <span title="compiled call, word, literal" style="color: #00FF7F">test</span> <span title="machine code" style="color: #aaaaaa">79</span> <span title="macro execution" style="color: #FFFF00">ip@</span> <span title="machine code" style="color: #aaaaaa">00</span> <br><span title="macro definition" style="color: #00FFFF">then</span> <span title="macro execution" style="color: #FFFF00">dup</span> <span title="macro execution" style="color: #FFFF00">01</span> <span title="macro execution" style="color: #FFFF00">+</span> <span title="macro execution" style="color: #FFFF00">ip@</span> <span title="macro execution" style="color: #FFFF00">swap</span> <span title="macro execution" style="color: #FFFF00">-</span> <span title="macro execution" style="color: #FFFF00">swap</span> <span title="macro execution" style="color: #FFFF00">i8!</span> <br><span title="macro definition" style="color: #00FFFF">1+</span> <span title="machine code" style="color: #aaaaaa">48</span> <span title="machine code" style="color: #aaaaaa">ff</span> <span title="machine code" style="color: #aaaaaa">c0</span> <span title="macro execution" style="color: #FFFF00">;</span> <br><span title="macro definition" style="color: #00FFFF">for</span> <span title="machine code" style="color: #aaaaaa">51</span> <span title="machine code" style="color: #aaaaaa">48</span> <span title="machine code" style="color: #aaaaaa">91</span> <span title="machine code" style="color: #aaaaaa">48</span> <span title="machine code" style="color: #aaaaaa">ad</span> <span title="macro execution" style="color: #FFFF00">ip@</span> <span title="macro execution" style="color: #FFFF00">;</span> <br><span title="macro definition" style="color: #00FFFF">next</span> <span title="macro execution" style="color: #FFFF00">dup</span> <span title="macro execution" style="color: #FFFF00">ip@</span> <span title="macro execution" style="color: #FFFF00">-</span> <span title="macro execution" style="color: #FFFF00">02</span> <span title="macro execution" style="color: #FFFF00">-</span> <span title="machine code" style="color: #aaaaaa">e2</span> <span title="macro execution" style="color: #FFFF00">i8</span> <span title="machine code" style="color: #aaaaaa">59</span> <span title="macro execution" style="color: #FFFF00">;</span> <br><br><span title="macro definition" style="color: #00FFFF">str</span> <span title="macro execution" style="color: #FFFF00">data</span> <span title="macro execution" style="color: #FFFF00">ptr</span> <span title="macro execution" style="color: #FFFF00">@</span> <span title="macro execution" style="color: #FFFF00">lit</span> <span title="macro execution" style="color: #FFFF00">dup</span> <span title="macro execution" style="color: #FFFF00">len</span> <span title="macro execution" style="color: #FFFF00">data</span> <span title="macro execution" style="color: #FFFF00">w8</span> <span title="macro execution" style="color: #FFFF00">data</span> <span title="macro execution" style="color: #FFFF00">cpy</span> <br><span title="macro definition" style="color: #00FFFF">and</span> <span title="machine code" style="color: #aaaaaa">48</span> <span title="machine code" style="color: #aaaaaa">93</span> <span title="compiled call, word, literal" style="color: #00FF7F">drop</span> <span title="machine code" style="color: #aaaaaa">48</span> <span title="machine code" style="color: #aaaaaa">21</span> <span title="machine code" style="color: #aaaaaa">d8</span> <span title="macro execution" style="color: #FFFF00">;</span> <br><span title="macro definition" style="color: #00FFFF">shr</span> <span title="machine code" style="color: #aaaaaa">51</span> <span title="machine code" style="color: #aaaaaa">48</span> <span title="machine code" style="color: #aaaaaa">91</span> <span title="compiled call, word, literal" style="color: #00FF7F">drop</span> <span title="machine code" style="color: #aaaaaa">48</span> <span title="machine code" style="color: #aaaaaa">d3</span> <span title="machine code" style="color: #aaaaaa">e8</span> <span title="machine code" style="color: #aaaaaa">59</span> <span title="macro execution" style="color: #FFFF00">;</span> <br><br><br><span title="comment" style="color: #fff">Runtime</span> <span title="comment" style="color: #fff">---------------------------------------------------------------------</span> <br><span title="word definition" style="color: #ff0000">init</span> <span title="comment" style="color: #fff">r15<-8</span> <span title="machine code" style="color: #aaaaaa">41</span> <span title="machine code" style="color: #aaaaaa">bf</span> <span title="macro execution" style="color: #FFFF00">08</span> <span title="macro execution" style="color: #FFFF00">i32</span> <span title="comment" style="color: #fff">init</span> <span title="comment" style="color: #fff">stack</span> <span title="machine code" style="color: #aaaaaa">be</span> <span title="macro execution" style="color: #FFFF00">stack-start</span> <span title="macro execution" style="color: #FFFF00">i32</span> <span title="compiled call, word, literal" style="color: #00FF7F">main</span> <span title="compiled call, word, literal" style="color: #00FF7F">00</span> <span title="compiled call, word, literal" style="color: #00FF7F">exit</span> <br><span title="word definition" style="color: #ff0000">emit</span> <span title="compiled call, word, literal" style="color: #00FF7F">dup</span> <span title="machine code" style="color: #aaaaaa">51</span> <span title="machine code" style="color: #aaaaaa">b8</span> <span title="macro execution" style="color: #FFFF00">01</span> <span title="macro execution" style="color: #FFFF00">i32</span> <span title="machine code" style="color: #aaaaaa">bf</span> <span title="macro execution" style="color: #FFFF00">01</span> <span title="macro execution" style="color: #FFFF00">i32</span> <span title="machine code" style="color: #aaaaaa">ba</span> <span title="macro execution" style="color: #FFFF00">01</span> <span title="macro execution" style="color: #FFFF00">i32</span> <span title="machine code" style="color: #aaaaaa">0f</span> <span title="machine code" style="color: #aaaaaa">05</span> <span title="machine code" style="color: #aaaaaa">59</span> <span title="compiled call, word, literal" style="color: #00FF7F">drop</span> <span title="compiled call, word, literal" style="color: #00FF7F">drop</span> <span title="compiled call, word, literal" style="color: #00FF7F">;</span> <br><span title="word definition" style="color: #ff0000">getc</span> <span title="compiled call, word, literal" style="color: #00FF7F">dup</span> <span title="machine code" style="color: #aaaaaa">51</span> <span title="machine code" style="color: #aaaaaa">b8</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">4c</span> <span title="machine code" style="color: #aaaaaa">29</span> <span title="machine code" style="color: #aaaaaa">fe</span> <span title="machine code" style="color: #aaaaaa">48</span> <span title="machine code" style="color: #aaaaaa">31</span> <span title="machine code" style="color: #aaaaaa">ff</span> <span title="machine code" style="color: #aaaaaa">ba</span> <span title="machine code" style="color: #aaaaaa">01</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">0f</span> <span title="machine code" style="color: #aaaaaa">05</span> <span title="machine code" style="color: #aaaaaa">59</span> <span title="compiled call, word, literal" style="color: #00FF7F">;</span> <br><span title="word definition" style="color: #ff0000">exit</span> <span title="machine code" style="color: #aaaaaa">bf</span> <span title="machine code" style="color: #aaaaaa">3c</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">48</span> <span title="machine code" style="color: #aaaaaa">97</span> <span title="machine code" style="color: #aaaaaa">0f</span> <span title="machine code" style="color: #aaaaaa">05</span> <br><span title="word definition" style="color: #ff0000">cr</span> <span title="compiled call, word, literal" style="color: #00FF7F">0a</span> <span title="compiled call, word, literal" style="color: #00FF7F">emit</span> <span title="compiled call, word, literal" style="color: #00FF7F">;</span> <br><span title="word definition" style="color: #ff0000">puts</span> <span title="machine code" style="color: #aaaaaa">56</span> <span title="machine code" style="color: #aaaaaa">51</span> <span title="machine code" style="color: #aaaaaa">8a</span> <span title="machine code" style="color: #aaaaaa">10</span> <span title="machine code" style="color: #aaaaaa">48</span> <span title="machine code" style="color: #aaaaaa">8d</span> <span title="machine code" style="color: #aaaaaa">70</span> <span title="machine code" style="color: #aaaaaa">01</span> <span title="machine code" style="color: #aaaaaa">bf</span> <span title="machine code" style="color: #aaaaaa">01</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">00</span> <span title="machine code" style="color: #aaaaaa">48</span> <span title="machine code" style="color: #aaaaaa">89</span> <span title="machine code" style="color: #aaaaaa">f8</span> <span title="machine code" style="color: #aaaaaa">0f</span> <span title="machine code" style="color: #aaaaaa">05</span> <span title="machine code" style="color: #aaaaaa">59</span> <span title="machine code" style="color: #aaaaaa">5e</span> <span title="machine code" style="color: #aaaaaa">48</span> <span title="machine code" style="color: #aaaaaa">ad</span> <span title="compiled call, word, literal" style="color: #00FF7F">cr</span> <span title="compiled call, word, literal" style="color: #00FF7F">;</span> <br><br><br><br><span title="comment" style="color: #fff">User</span> <span title="comment" style="color: #fff">Program</span> <span title="comment" style="color: #fff">--------------------------------------------------------------</span> <br><span title="word definition" style="color: #ff0000">cr</span> <span title="compiled call, word, literal" style="color: #00FF7F">0a</span> <span title="compiled call, word, literal" style="color: #00FF7F">emit</span> <span title="compiled call, word, literal" style="color: #00FF7F">;</span> <span title="word definition" style="color: #ff0000">space</span> <span title="compiled call, word, literal" style="color: #00FF7F">20</span> <span title="compiled call, word, literal" style="color: #00FF7F">emit</span> <span title="compiled call, word, literal" style="color: #00FF7F">;</span> <span title="word definition" style="color: #ff0000">spaces</span> <span title="compiled call, word, literal" style="color: #00FF7F">for</span> <span title="compiled call, word, literal" style="color: #00FF7F">space</span> <span title="compiled call, word, literal" style="color: #00FF7F">next</span> <span title="compiled call, word, literal" style="color: #00FF7F">;</span> <br><span title="word definition" style="color: #ff0000">hexdigit</span> <span title="compiled call, word, literal" style="color: #00FF7F">dup</span> <span title="compiled call, word, literal" style="color: #00FF7F">0a</span> <span title="compiled call, word, literal" style="color: #00FF7F">-</span> <span title="compiled call, word, literal" style="color: #00FF7F">-if</span> <span title="compiled call, word, literal" style="color: #00FF7F">30</span> <span title="compiled call, word, literal" style="color: #00FF7F">+</span> <span title="compiled call, word, literal" style="color: #00FF7F">;</span> <span title="compiled call, word, literal" style="color: #00FF7F">then</span> <span title="compiled call, word, literal" style="color: #00FF7F">37</span> <span title="compiled call, word, literal" style="color: #00FF7F">+</span> <span title="compiled call, word, literal" style="color: #00FF7F">;</span> <br><span title="word definition" style="color: #ff0000">.hi</span> <span title="compiled call, word, literal" style="color: #00FF7F">f0</span> <span title="compiled call, word, literal" style="color: #00FF7F">and</span> <span title="compiled call, word, literal" style="color: #00FF7F">04</span> <span title="compiled call, word, literal" style="color: #00FF7F">shr</span> <span title="compiled call, word, literal" style="color: #00FF7F">hexdigit</span> <span title="compiled call, word, literal" style="color: #00FF7F">emit</span> <span title="compiled call, word, literal" style="color: #00FF7F">;</span> <span title="word definition" style="color: #ff0000">.lo</span> <span title="compiled call, word, literal" style="color: #00FF7F">0f</span> <span title="compiled call, word, literal" style="color: #00FF7F">and</span> <span title="compiled call, word, literal" style="color: #00FF7F">hexdigit</span> <span title="compiled call, word, literal" style="color: #00FF7F">emit</span> <span title="compiled call, word, literal" style="color: #00FF7F">;</span> <br><span title="word definition" style="color: #ff0000">.H</span> <span title="compiled call, word, literal" style="color: #00FF7F">dup</span> <span title="compiled call, word, literal" style="color: #00FF7F">.hi</span> <span title="compiled call, word, literal" style="color: #00FF7F">.lo</span> <span title="compiled call, word, literal" style="color: #00FF7F">;</span> <span title="word definition" style="color: #ff0000">?eol</span> <span title="compiled call, word, literal" style="color: #00FF7F">dup</span> <span title="compiled call, word, literal" style="color: #00FF7F">07</span> <span title="compiled call, word, literal" style="color: #00FF7F">and</span> <span title="compiled call, word, literal" style="color: #00FF7F">!if</span> <span title="compiled call, word, literal" style="color: #00FF7F">cr</span> <span title="compiled call, word, literal" style="color: #00FF7F">.H</span> <span title="compiled call, word, literal" style="color: #00FF7F">04</span> <span title="compiled call, word, literal" style="color: #00FF7F">spaces</span> <span title="compiled call, word, literal" style="color: #00FF7F">;</span> <span title="compiled call, word, literal" style="color: #00FF7F">then</span> <span title="compiled call, word, literal" style="color: #00FF7F">;</span> <br><span title="word definition" style="color: #ff0000">main</span> <span title="compiled call, word, literal" style="color: #00FF7F">"helloworld"</span> <span title="compiled call, word, literal" style="color: #00FF7F">puts</span> <span title="compiled call, word, literal" style="color: #00FF7F">;</span> <br><br><span title="compiled call, word, literal" style="color: #00FF7F">00</span> <span title="word definition" style="color: #ff0000">loop</span> <span title="compiled call, word, literal" style="color: #00FF7F">dup</span> <span title="compiled call, word, literal" style="color: #00FF7F">?eol</span> <span title="compiled call, word, literal" style="color: #00FF7F">getc</span> <span title="compiled call, word, literal" style="color: #00FF7F">if</span> <span title="compiled call, word, literal" style="color: #00FF7F">.H</span> <span title="compiled call, word, literal" style="color: #00FF7F">space</span> <span title="compiled call, word, literal" style="color: #00FF7F">1+</span> <span title="compiled call, word, literal" style="color: #00FF7F">loop</span> <span title="compiled call, word, literal" style="color: #00FF7F">;</span> <span title="compiled call, word, literal" style="color: #00FF7F">then</span> <span title="compiled call, word, literal" style="color: #00FF7F">;</span> <br><br><br></body></html>