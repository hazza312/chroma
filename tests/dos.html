<html><body style="background: black; font-family: monospace"><pre><span title="comment" style="background: black; color: #fff">i386/16</span> <span title="comment" style="background: black; color: #fff">Core</span> <br><span title="comment" style="background: black; color: #fff">stack</span> <span title="macro definition" style="background: black; color: #00FFFF">nip</span> <span title="machine code" style="background: black; color: #aaaaaa">46</span> <span title="machine code" style="background: black; color: #aaaaaa">46</span> <span title="macro definition" style="background: black; color: #00FFFF">drop</span> <span title="machine code" style="background: black; color: #aaaaaa">ad</span> <span title="macro definition" style="background: black; color: #00FFFF">dup</span> <span title="machine code" style="background: black; color: #aaaaaa">4e</span> <span title="machine code" style="background: black; color: #aaaaaa">4e</span> <span title="machine code" style="background: black; color: #aaaaaa">89</span> <span title="machine code" style="background: black; color: #aaaaaa">04</span> <br><span title="comment" style="background: black; color: #fff">numeric</span> <span title="macro definition" style="background: black; color: #00FFFF">lit</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">dup</span> <span title="machine code" style="background: black; color: #aaaaaa">b8</span> <span title="macro execution" style="background: black; color: #FFFF00">i16</span> <span title="macro definition" style="background: black; color: #00FFFF">+</span> <span title="machine code" style="background: black; color: #aaaaaa">03</span> <span title="machine code" style="background: black; color: #aaaaaa">04</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">nip</span> <span title="macro definition" style="background: black; color: #00FFFF">-</span> <span title="machine code" style="background: black; color: #aaaaaa">93</span> <span title="machine code" style="background: black; color: #aaaaaa">ad</span> <span title="machine code" style="background: black; color: #aaaaaa">29</span> <span title="machine code" style="background: black; color: #aaaaaa">d8</span> <span title="macro definition" style="background: black; color: #00FFFF">1+</span> <span title="machine code" style="background: black; color: #aaaaaa">40</span> <span title="macro definition" style="background: black; color: #00FFFF">1-</span> <span title="machine code" style="background: black; color: #aaaaaa">48</span> <br><span title="comment" style="background: black; color: #fff">logic</span> <span title="macro definition" style="background: black; color: #00FFFF">and</span> <span title="machine code" style="background: black; color: #aaaaaa">23</span> <span title="machine code" style="background: black; color: #aaaaaa">04</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">nip</span> <span title="macro definition" style="background: black; color: #00FFFF">or</span> <span title="machine code" style="background: black; color: #aaaaaa">0b</span> <span title="machine code" style="background: black; color: #aaaaaa">04</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">nip</span> <span title="macro definition" style="background: black; color: #00FFFF">xor</span> <span title="machine code" style="background: black; color: #aaaaaa">33</span> <span title="machine code" style="background: black; color: #aaaaaa">04</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">nip</span> <span title="macro definition" style="background: black; color: #00FFFF">rol</span> <span title="machine code" style="background: black; color: #aaaaaa">51</span> <span title="machine code" style="background: black; color: #aaaaaa">91</span> <span title="machine code" style="background: black; color: #aaaaaa">ad</span> <span title="machine code" style="background: black; color: #aaaaaa">d3</span> <span title="machine code" style="background: black; color: #aaaaaa">c0</span> <span title="machine code" style="background: black; color: #aaaaaa">59</span> <br><span title="comment" style="background: black; color: #fff">branch</span> <span title="macro definition" style="background: black; color: #00FFFF">jmp</span> <span title="machine code" style="background: black; color: #aaaaaa">e9</span> <span title="machine code" style="background: black; color: #aaaaaa">00</span> <span title="machine code" style="background: black; color: #aaaaaa">00</span> <span title="macro definition" style="background: black; color: #00FFFF">jnz</span> <span title="machine code" style="background: black; color: #aaaaaa">75</span> <span title="machine code" style="background: black; color: #aaaaaa">00</span> <span title="macro definition" style="background: black; color: #00FFFF">jz</span> <span title="machine code" style="background: black; color: #aaaaaa">74</span> <span title="machine code" style="background: black; color: #aaaaaa">00</span> <span title="macro definition" style="background: black; color: #00FFFF">jns</span> <span title="machine code" style="background: black; color: #aaaaaa">79</span> <span title="machine code" style="background: black; color: #aaaaaa">00</span> <span title="macro definition" style="background: black; color: #00FFFF">js</span> <span title="machine code" style="background: black; color: #aaaaaa">78</span> <span title="machine code" style="background: black; color: #aaaaaa">00</span> <span title="macro definition" style="background: black; color: #00FFFF">test</span> <span title="machine code" style="background: black; color: #aaaaaa">85</span> <span title="machine code" style="background: black; color: #aaaaaa">c0</span> <br><span title="comment" style="background: black; color: #fff">flow</span> <span title="macro definition" style="background: black; color: #00FFFF">call</span> <span title="machine code" style="background: black; color: #aaaaaa">e8</span> <span title="machine code" style="background: black; color: #aaaaaa">00</span> <span title="machine code" style="background: black; color: #aaaaaa">00</span> <span title="macro definition" style="background: black; color: #00FFFF">;</span> <span title="machine code" style="background: black; color: #aaaaaa">c3</span> <span title="macro definition" style="background: black; color: #00FFFF">hlt</span> <span title="machine code" style="background: black; color: #aaaaaa">f4</span> <br><span title="comment" style="background: black; color: #fff">memory</span> <span title="macro definition" style="background: black; color: #00FFFF">!</span> <span title="machine code" style="background: black; color: #aaaaaa">93</span> <span title="machine code" style="background: black; color: #aaaaaa">ad</span> <span title="machine code" style="background: black; color: #aaaaaa">89</span> <span title="machine code" style="background: black; color: #aaaaaa">07</span> <span title="machine code" style="background: black; color: #aaaaaa">ad</span> <span title="macro definition" style="background: black; color: #00FFFF">@</span> <span title="machine code" style="background: black; color: #aaaaaa">93</span> <span title="machine code" style="background: black; color: #aaaaaa">8b</span> <span title="machine code" style="background: black; color: #aaaaaa">07</span> <br><br><br><span title="comment" style="background: black; color: #fff">Language</span> <span title="comment" style="background: black; color: #fff">implementation</span> <br><span title="macro definition" style="background: black; color: #00FFFF">-if</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">test</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">jns</span> <span title="macro execution" style="background: black; color: #FFFF00">ip</span> <span title="macro execution" style="background: black; color: #FFFF00">@</span> <span title="macro execution" style="background: black; color: #FFFF00">1</span> <span title="macro execution" style="background: black; color: #FFFF00">-</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">drop</span> <span title="macro execution" style="background: black; color: #FFFF00">;</span> <span title="macro definition" style="background: black; color: #00FFFF">if</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">test</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">jz</span> <span title="macro execution" style="background: black; color: #FFFF00">ip</span> <span title="macro execution" style="background: black; color: #FFFF00">@</span> <span title="macro execution" style="background: black; color: #FFFF00">1</span> <span title="macro execution" style="background: black; color: #FFFF00">-</span> <span title="macro execution" style="background: black; color: #FFFF00">;</span> <br><span title="macro definition" style="background: black; color: #00FFFF">then</span> <span title="macro execution" style="background: black; color: #FFFF00">dup</span> <span title="macro execution" style="background: black; color: #FFFF00">1</span> <span title="macro execution" style="background: black; color: #FFFF00">+</span> <span title="macro execution" style="background: black; color: #FFFF00">ip</span> <span title="macro execution" style="background: black; color: #FFFF00">@</span> <span title="macro execution" style="background: black; color: #FFFF00">swap</span> <span title="macro execution" style="background: black; color: #FFFF00">-</span> <span title="macro execution" style="background: black; color: #FFFF00">swap</span> <span title="macro execution" style="background: black; color: #FFFF00">i!</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">drop</span> <span title="macro execution" style="background: black; color: #FFFF00">;</span> <br><span title="macro definition" style="background: black; color: #00FFFF">for</span> <span title="machine code" style="background: black; color: #aaaaaa">51</span> <span title="machine code" style="background: black; color: #aaaaaa">91</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">drop</span> <span title="macro execution" style="background: black; color: #FFFF00">ip</span> <span title="macro execution" style="background: black; color: #FFFF00">@</span> <br><span title="macro definition" style="background: black; color: #00FFFF">next</span> <span title="machine code" style="background: black; color: #aaaaaa">e2</span> <span title="macro execution" style="background: black; color: #FFFF00">ip</span> <span title="macro execution" style="background: black; color: #FFFF00">@</span> <span title="macro execution" style="background: black; color: #FFFF00">-</span> <span title="macro execution" style="background: black; color: #FFFF00">1</span> <span title="macro execution" style="background: black; color: #FFFF00">-</span> <span title="macro execution" style="background: black; color: #FFFF00">i8</span> <span title="machine code" style="background: black; color: #aaaaaa">59</span> <span title="macro execution" style="background: black; color: #FFFF00">;</span> <br><br><br><span title="comment" style="background: black; color: #fff">i386/16/DOS</span> <span title="comment" style="background: black; color: #fff">COM</span> <span title="comment" style="background: black; color: #fff">Binary</span> <span title="comment" style="background: black; color: #fff">Format</span> <br><span title="macro execution" style="background: black; color: #FFFF00">256</span> <span title="macro execution" style="background: black; color: #FFFF00">dup</span> <span title="macro execution" style="background: black; color: #FFFF00">ibase</span> <span title="macro execution" style="background: black; color: #FFFF00">!</span> <span title="macro execution" style="background: black; color: #FFFF00">ip</span> <span title="macro execution" style="background: black; color: #FFFF00">!</span> <span title="comment" style="background: black; color: #fff">instruction</span> <span title="comment" style="background: black; color: #fff">base</span> <span title="comment" style="background: black; color: #fff">address</span> <br><span title="macro execution" style="background: black; color: #FFFF00">1024</span> <span title="macro execution" style="background: black; color: #FFFF00">dup</span> <span title="macro execution" style="background: black; color: #FFFF00">dbase</span> <span title="macro execution" style="background: black; color: #FFFF00">!</span> <span title="macro execution" style="background: black; color: #FFFF00">dp</span> <span title="macro execution" style="background: black; color: #FFFF00">!</span> <span title="comment" style="background: black; color: #fff">data</span> <span title="comment" style="background: black; color: #fff">base</span> <span title="comment" style="background: black; color: #fff">address</span> <br><span title="macro definition" style="background: black; color: #00FFFF">compile</span> <span title="comment" style="background: black; color: #fff">store</span> <span title="macro execution" style="background: black; color: #FFFF00">ip</span> <span title="macro execution" style="background: black; color: #FFFF00">@</span> <span title="comment" style="background: black; color: #fff">touchup</span> <span title="macro execution" style="background: black; color: #FFFF00">placeholder</span> <span title="macro execution" style="background: black; color: #FFFF00">ip</span> <span title="macro execution" style="background: black; color: #FFFF00">!</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">main</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">;</span> <span title="comment" style="background: black; color: #fff">restore</span> <span title="macro execution" style="background: black; color: #FFFF00">ip</span> <span title="macro execution" style="background: black; color: #FFFF00">!</span> <br><span title="comment" style="background: black; color: #fff">calculate</span> <span title="comment" style="background: black; color: #fff">padding</span> <span title="macro execution" style="background: black; color: #FFFF00">dbase</span> <span title="macro execution" style="background: black; color: #FFFF00">@</span> <span title="macro execution" style="background: black; color: #FFFF00">ip</span> <span title="macro execution" style="background: black; color: #FFFF00">@</span> <span title="macro execution" style="background: black; color: #FFFF00">-</span> <span title="macro execution" style="background: black; color: #FFFF00">ibase</span> <span title="macro execution" style="background: black; color: #FFFF00">@</span> <span title="macro execution" style="background: black; color: #FFFF00">-</span> <span title="comment" style="background: black; color: #fff">make</span> <span title="comment" style="background: black; color: #fff">binary</span> <span title="macro execution" style="background: black; color: #FFFF00">text</span> <span title="macro execution" style="background: black; color: #FFFF00">padding</span> <span title="macro execution" style="background: black; color: #FFFF00">data</span> <span title="macro execution" style="background: black; color: #FFFF00">;</span> <br><br><br><span title="comment" style="background: black; color: #fff">i386/16/DOS</span> <span title="comment" style="background: black; color: #fff">Runtime</span> <br><span title="word definition" style="background: black; color: #ff0000">init</span> <span title="comment" style="background: black; color: #fff">setup</span> <span title="comment" style="background: black; color: #fff">data</span> <span title="comment" style="background: black; color: #fff">stack</span> <span title="machine code" style="background: black; color: #aaaaaa">be</span> <span title="machine code" style="background: black; color: #aaaaaa">00</span> <span title="machine code" style="background: black; color: #aaaaaa">e8</span> <span title="word definition" style="background: black; color: #ff0000">placeholder</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">jmp</span> <span title="comment" style="background: black; color: #fff">to</span> <span title="comment" style="background: black; color: #fff">main</span> <span title="comment" style="background: black; color: #fff">defined</span> <span title="comment" style="background: black; color: #fff">later</span> <br><span title="macro definition" style="background: black; color: #00FFFF">int21h</span> <span title="machine code" style="background: black; color: #aaaaaa">cd</span> <span title="machine code" style="background: black; color: #aaaaaa">21</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">drop</span> <span title="macro execution" style="background: black; color: #FFFF00">;</span> <br><span title="word definition" style="background: black; color: #ff0000">emit</span> <span title="machine code" style="background: black; color: #aaaaaa">92</span> <span title="machine code" style="background: black; color: #aaaaaa">b4</span> <span title="machine code" style="background: black; color: #aaaaaa">02</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">int21h</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">;</span> <span title="word definition" style="background: black; color: #ff0000">space</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">32</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">emit</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">;</span> <span title="word definition" style="background: black; color: #ff0000">cr</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">13</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">10</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">emit</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">emit</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">;</span> <br><span title="word definition" style="background: black; color: #ff0000">puts</span> <span title="machine code" style="background: black; color: #aaaaaa">92</span> <span title="machine code" style="background: black; color: #aaaaaa">b4</span> <span title="machine code" style="background: black; color: #aaaaaa">09</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">int21h</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">;</span> <span title="word definition" style="background: black; color: #ff0000">hexchar</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">dup</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">10</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">-</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">-if</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">48</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">+</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">;</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">then</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">55</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">+</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">;</span> <br><span title="word definition" style="background: black; color: #ff0000">.</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">4</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">for</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">4</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">rol</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">dup</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">15</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">and</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">hexchar</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">emit</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">next</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">drop</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">;</span> <br><br><br><span title="comment" style="background: black; color: #fff">User</span> <span title="comment" style="background: black; color: #fff">code:</span> <span title="comment" style="background: black; color: #fff">incrementally</span> <span title="comment" style="background: black; color: #fff">test</span> <span title="comment" style="background: black; color: #fff">some</span> <span title="comment" style="background: black; color: #fff">language</span> <span title="comment" style="background: black; color: #fff">features</span> <br><span title="word definition" style="background: black; color: #ff0000">main</span> <br><span title="word definition" style="background: black; color: #ff0000">test1</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">49</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">emit</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">space</span> <br><span title="word definition" style="background: black; color: #ff0000">test2</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">50</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">2</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">for</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">dup</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">emit</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">space</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">1+</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">next</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">drop</span> <br><span title="word definition" style="background: black; color: #ff0000">test3</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">17767</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">dup</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">.</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">space</span> <br><span title="word definition" style="background: black; color: #ff0000">test4</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">2</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">for</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">17476</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">+</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">dup</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">.</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">space</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">next</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">drop</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">cr</span> <br><span title="word definition" style="background: black; color: #ff0000">test5</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">65</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">13</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">for</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">2</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">for</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">dup</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">emit</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">1+</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">next</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">next</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">cr</span> <br><span title="word definition" style="background: black; color: #ff0000">test6</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">65244</span> <span title="variable declaration" style="background: black; color: #FF00FF">a</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">!</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">30292</span> <span title="variable declaration" style="background: black; color: #FF00FF">c</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">!</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">12816</span> <span title="variable declaration" style="background: black; color: #FF00FF">d</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">!</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">47768</span> <span title="variable declaration" style="background: black; color: #FF00FF">b</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">!</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">d</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">c</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">b</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">a</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">4</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">for</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">@</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">.</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">next</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">cr</span> <br><span title="word definition" style="background: black; color: #ff0000">test7</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">"pizza$"</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">puts</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">cr</span> <br><span title="word definition" style="background: black; color: #ff0000">test8</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">"pizza$"</span> <span title="variable declaration" style="background: black; color: #FF00FF">pizza</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">!</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">pizza</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">@</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">puts</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">cr</span> <span title="compiled call, word, literal" style="background: black; color: #00FF7F">;</span> <br><br><br></pre></body></html>